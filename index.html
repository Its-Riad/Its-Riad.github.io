<!DOCTYPE html>
<html> 
<head>    
    <link rel="stylesheet" type="text/css" href="index.css">
    <title>My Portfolio</title>
    <!-- Vega libraries -->
    <script src="https://cdn.jsdelivr.net/npm/vega@5"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-lite@5"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>
    <style>
        #chartGrid {
            display: flex;
        }
    </style>
</head>

<body> 
    <h1 class="big" style="margin-bottom: 0px;">Riad Ghoneim</h1>
    <p style="margin-top: 0px; color: darkblue">
        Riad Ghoneim | <a href="https://www.linkedin.com/in/riad-ghoneim/">LinkedIn</a> | <a href="https://www.github.com/its-riad">GitHub</a>
    </p>
    <h3 class="small">
        This page acts as your portfolio of charts. You can use it as a good starting point to display your work but make sure to customise it to make it your own, or even start from scratch.  
    </h3>

    <!-- Section 1: Existing chart -->
    <section>
        <div class="chart-description">
            <h2>Section 1: A basic chart</h2>
            <p>
                We've organised the page into sections, with each section containing a chart, title and a description. Here, we can describe the chart and give some context.
                As a first example, we're using a basic chart from our repo.
            </p>
        </div>
        <figure id="Location1"></figure>
    </section>

    <!-- Section 2: CO2 Vega-Lite chart -->
    <section>
        <div class="chart-description">
            <h2>Section 2: Decadal Line Chart of CO2 Concentration</h2>
            <p>
                This chart visualizes the atmospheric CO2 concentration by decade, showing year into decade on the x-axis.
            </p>
        </div>
        <figure id="co2_chart"></figure>
    </section>

    <!-- JavaScript for embedding charts -->
 <!-- Section: CO2 Vega-Lite chart with embedded data -->
<section>
    <div class="chart-description">
        <h2>Section: Decadal Line Chart of CO₂ Concentration (Static Example)</h2>
        <p>
            This chart visualizes atmospheric CO₂ concentration by decade, using data embedded in the code.
        </p>
    </div>
    <figure id="co2_chart"></figure>
</section>

<script>
    const co2_spec = {
        "$schema": "https://vega.github.io/schema/vega-lite/v6.json",
        "width": 800,
        "height": 500,
        "data": {
            "values": [
                {"Date": "1960-01-01", "CO2": 316.91},
                {"Date": "1970-01-01", "CO2": 325.68},
                {"Date": "1980-01-01", "CO2": 338.75},
                {"Date": "1990-01-01", "CO2": 354.35},
                {"Date": "2000-01-01", "CO2": 369.71},
                {"Date": "2010-01-01", "CO2": 389.85},
                {"Date": "2020-01-01", "CO2": 414.24}
            ]
        },
        "transform": [
            {"calculate": "year(datum.Date)", "as": "year"},
            {"calculate": "floor(datum.year / 10)", "as": "decade"},
            {
                "calculate": "(datum.year % 10)",
                "as": "scaled_date"
            }
        ],
        "encoding": {
            "x": {
                "field": "scaled_date",
                "type": "quantitative",
                "title": "Year into Decade",
                "axis": {"tickCount": 11}
            },
            "y": {
                "field": "CO2",
                "title": "CO₂ concentration in ppm",
                "type": "quantitative",
                "scale": {"zero": false}
            },
            "color": {
                "field": "decade",
                "type": "ordinal",
                "scale": {"scheme": "magma"},
                "legend": null
            }
        },
        "mark": "line"
    };

    vegaEmbed('#co2_chart', co2_spec);
</script>
</body>
</html>
