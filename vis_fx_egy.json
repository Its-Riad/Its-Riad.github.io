{
  "$schema": "https://vega.github.io/schema/vega-lite/v6.json",
  "config": {
    "background": null,
    "view": {
      "stroke": null
    },
    "axis": {
      "labelColor": "white",
      "titleColor": "white",
      "labelFontSize": 12,
      "titleFontSize": 14,
      "gridColor": "#444",
      "domainColor": "white"
    },
    "legend": {
      "labelColor": "white",
      "titleColor": "white"
    }
  },
  "vconcat": [{
    "width": 880,
    "height": 200,
    "title": {
      "text": "Annual Value Loss (%)",
      "color": "white",
      "fontSize": 16
    },
    "data": {"url": "egypt_value_loss_rate.csv"},
    "mark": {"type": "area", "color": "#ef4444", "opacity": 0.7, "tooltip": true},
    "encoding": {
      "x": {
        "field": "date",
        "type": "temporal",
        "scale": {"domain": {"param": "brush"}},
        "axis": {"title": ""}
      },
      "y": {"field": "rate_of_loss", "type": "quantitative", "title": null},
      "tooltip": [
        {"field": "year", "type": "quantitative", "title": "Year"},
        {"field": "rate_of_loss", "type": "quantitative", "title": "Value Loss (%)", "format": ".2f"}
      ]
    }
  }, {
    "width": 880,
    "height": 100,
    "title": {
      "text": "Inflation (%)",
      "color": "white",
      "fontSize": 16
    },
    "data": {
      "url": "https://api.worldbank.org/v2/country/egy/indicator/NY.GDP.DEFL.KD.ZG?format=json&per_page=300&date=2010:2024",
      "format": {"property": "[1]"}
    },
    "mark": {"type": "area", "color": "#10b981", "opacity": 0.7, "tooltip": true},
    "encoding": {
      "x": {
        "field": "date",
        "type": "temporal",
        "scale": {"domain": {"param": "brush"}},
        "axis": {"title": ""}
      },
      "y": {"field": "value", "type": "quantitative", "title": null},
      "tooltip": [
        {"field": "date", "type": "temporal", "title": "Date", "format": "%Y"},
        {"field": "value", "type": "quantitative", "title": "Inflation (%)", "format": ".2f"}
      ]
    }
  }, {
    "width": 880,
    "height": 100,
    "title": {
      "text": "EGP Devaluation",
      "color": "white",
      "fontSize": 16
    },
    "data": {
      "url": "https://api.worldbank.org/v2/country/egy/indicator/PA.NUS.FCRF?format=json&per_page=300&date=2010:2024",
      "format": {"property": "[1]"}
    },
    "mark": {"type": "area", "color": "#f59e0b", "opacity": 0.7, "tooltip": true},
    "params": [{
      "name": "brush",
      "select": {"type": "interval", "encodings": ["x"]}
    }],
    "encoding": {
      "x": {
        "field": "date",
        "type": "temporal"
      },
      "y": {
        "field": "value",
        "type": "quantitative",
        "axis": {"tickCount": 3, "grid": false},
        "title": null
      },
      "tooltip": [
        {"field": "date", "type": "temporal", "title": "Date", "format": "%Y"},
        {"field": "value", "type": "quantitative", "title": "EGP per USD", "format": ".2f"}
      ]
    }
  }]
}